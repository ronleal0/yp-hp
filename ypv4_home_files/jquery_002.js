!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(e){function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=c),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var i=e(this),o=i.data(C);o||(o=new n(this,t),i.data(C,o))})}function n(t,n){function S(t){if(!(at()||e(t.target).closest(n.excludedElements,zt).length>0)){var i,o=t.originalEvent?t.originalEvent:t,s=T?o.touches[0]:o;return Ht=w,T?Wt=o.touches.length:t.preventDefault(),qt=0,Nt=null,Bt=null,Lt=0,Ot=0,Mt=0,It=1,Pt=0,Vt=pt(),Rt=mt(),st(),!T||Wt===n.fingers||n.fingers===b||R()?(ct(0,s),Ut=Tt(),2==Wt&&(ct(1,o.touches[1]),Ot=Mt=bt(Vt[0].start,Vt[1].start)),(n.swipeStatus||n.pinchStatus)&&(i=q(o,Ht))):i=!1,i===!1?(Ht=k,q(o,Ht),i):(lt(!0),null)}}function $(e){var t=e.originalEvent?e.originalEvent:e;if(Ht!==_&&Ht!==k&&!rt()){var i,o=T?t.touches[0]:t,s=ut(o);if(Yt=Tt(),T&&(Wt=t.touches.length),Ht=x,2==Wt&&(0==Ot?(ct(1,t.touches[1]),Ot=Mt=bt(Vt[0].start,Vt[1].start)):(ut(t.touches[1]),Mt=bt(Vt[0].end,Vt[1].end),Bt=wt(Vt[0].end,Vt[1].end)),It=yt(Ot,Mt),Pt=Math.abs(Ot-Mt)),Wt===n.fingers||n.fingers===b||!T||R()){if(Nt=kt(s.start,s.end),P(e,Nt),qt=xt(s.start,s.end),Lt=vt(),ft(Nt,qt),(n.swipeStatus||n.pinchStatus)&&(i=q(t,Ht)),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var r=!0;if(n.triggerOnTouchLeave){var a=Ct(this);r=St(s.end,a)}!n.triggerOnTouchEnd&&r?Ht=D(x):n.triggerOnTouchLeave&&!r&&(Ht=D(_)),(Ht==k||Ht==_)&&q(t,Ht)}}else Ht=k,q(t,Ht);i===!1&&(Ht=k,q(t,Ht))}}function E(e){var t=e.originalEvent;return T&&t.touches.length>0?(ot(),!0):(rt()&&(Wt=Qt),e.preventDefault(),Yt=Tt(),Lt=vt(),O()?(Ht=k,q(t,Ht)):n.triggerOnTouchEnd||0==n.triggerOnTouchEnd&&Ht===x?(Ht=_,q(t,Ht)):!n.triggerOnTouchEnd&&X()?(Ht=_,N(t,Ht,f)):Ht===x&&(Ht=k,q(t,Ht)),lt(!1),null)}function j(){Wt=0,Yt=0,Ut=0,Ot=0,Mt=0,It=1,st(),lt(!1)}function F(e){var t=e.originalEvent;n.triggerOnTouchLeave&&(Ht=D(_),q(t,Ht))}function A(){zt.unbind(Et,S),zt.unbind(Dt,j),zt.unbind(jt,$),zt.unbind(Ft,E),At&&zt.unbind(At,F),lt(!1)}function D(e){var t=e,i=I(),o=L(),s=O();return!i||s?t=k:!o||e!=x||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!o&&e==_&&n.triggerOnTouchLeave&&(t=k):t=_,t}function q(e,t){var n=void 0;return V()||W()?n=N(e,t,d):(z()||R())&&n!==!1&&(n=N(e,t,p)),nt()&&n!==!1?n=N(e,t,h):it()&&n!==!1?n=N(e,t,m):tt()&&n!==!1&&(n=N(e,t,f)),t===k&&j(e),t===_&&(T?0==e.touches.length&&j(e):j(e)),n}function N(t,c,u){var g=void 0;if(u==d){if(zt.trigger("swipeStatus",[c,Nt||null,qt||0,Lt||0,Wt]),n.swipeStatus&&(g=n.swipeStatus.call(zt,t,c,Nt||null,qt||0,Lt||0,Wt),g===!1))return!1;if(c==_&&H()){if(zt.trigger("swipe",[Nt,qt,Lt,Wt]),n.swipe&&(g=n.swipe.call(zt,t,Nt,qt,Lt,Wt),g===!1))return!1;switch(Nt){case i:zt.trigger("swipeLeft",[Nt,qt,Lt,Wt]),n.swipeLeft&&(g=n.swipeLeft.call(zt,t,Nt,qt,Lt,Wt));break;case o:zt.trigger("swipeRight",[Nt,qt,Lt,Wt]),n.swipeRight&&(g=n.swipeRight.call(zt,t,Nt,qt,Lt,Wt));break;case s:zt.trigger("swipeUp",[Nt,qt,Lt,Wt]),n.swipeUp&&(g=n.swipeUp.call(zt,t,Nt,qt,Lt,Wt));break;case r:zt.trigger("swipeDown",[Nt,qt,Lt,Wt]),n.swipeDown&&(g=n.swipeDown.call(zt,t,Nt,qt,Lt,Wt))}}}if(u==p){if(zt.trigger("pinchStatus",[c,Bt||null,Pt||0,Lt||0,Wt,It]),n.pinchStatus&&(g=n.pinchStatus.call(zt,t,c,Bt||null,Pt||0,Lt||0,Wt,It),g===!1))return!1;if(c==_&&B())switch(Bt){case a:zt.trigger("pinchIn",[Bt||null,Pt||0,Lt||0,Wt,It]),n.pinchIn&&(g=n.pinchIn.call(zt,t,Bt||null,Pt||0,Lt||0,Wt,It));break;case l:zt.trigger("pinchOut",[Bt||null,Pt||0,Lt||0,Wt,It]),n.pinchOut&&(g=n.pinchOut.call(zt,t,Bt||null,Pt||0,Lt||0,Wt,It))}}return u==f?(c===k||c===_)&&(clearTimeout(Kt),Q()&&!J()?(Gt=Tt(),Kt=setTimeout(e.proxy(function(){Gt=null,zt.trigger("tap",[t.target]),n.tap&&(g=n.tap.call(zt,t,t.target))},this),n.doubleTapThreshold)):(Gt=null,zt.trigger("tap",[t.target]),n.tap&&(g=n.tap.call(zt,t,t.target)))):u==h?(c===k||c===_)&&(clearTimeout(Kt),Gt=null,zt.trigger("doubletap",[t.target]),n.doubleTap&&(g=n.doubleTap.call(zt,t,t.target))):u==m&&(c===k||c===_)&&(clearTimeout(Kt),Gt=null,zt.trigger("longtap",[t.target]),n.longTap&&(g=n.longTap.call(zt,t,t.target))),g}function L(){var e=!0;return null!==n.threshold&&(e=qt>=n.threshold),e}function O(){var e=!1;return null!==n.cancelThreshold&&null!==Nt&&(e=ht(Nt)-qt>=n.cancelThreshold),e}function M(){return null!==n.pinchThreshold?Pt>=n.pinchThreshold:!0}function I(){var e;return e=n.maxTimeThreshold?Lt>=n.maxTimeThreshold?!1:!0:!0}function P(e,t){if(n.allowPageScroll===c||R())e.preventDefault();else{var a=n.allowPageScroll===u;switch(t){case i:(n.swipeLeft&&a||!a&&n.allowPageScroll!=g)&&e.preventDefault();break;case o:(n.swipeRight&&a||!a&&n.allowPageScroll!=g)&&e.preventDefault();break;case s:(n.swipeUp&&a||!a&&n.allowPageScroll!=v)&&e.preventDefault();break;case r:(n.swipeDown&&a||!a&&n.allowPageScroll!=v)&&e.preventDefault()}}}function B(){var e=U(),t=Y(),n=M();return e&&t&&n}function R(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function z(){return!(!B()||!R())}function H(){var e=I(),t=L(),n=U(),i=Y(),o=O(),s=!o&&i&&n&&t&&e;return s}function W(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function V(){return!(!H()||!W())}function U(){return Wt===n.fingers||n.fingers===b||!T}function Y(){return 0!==Vt[0].end.x}function X(){return!!n.tap}function Q(){return!!n.doubleTap}function G(){return!!n.longTap}function K(){if(null==Gt)return!1;var e=Tt();return Q()&&e-Gt<=n.doubleTapThreshold}function J(){return K()}function Z(){return!(1!==Wt&&T||!isNaN(qt)&&0!==qt)}function et(){return Lt>n.longTapThreshold&&y>qt}function tt(){return!(!Z()||!X())}function nt(){return!(!K()||!Q())}function it(){return!(!et()||!G())}function ot(){Xt=Tt(),Qt=event.touches.length+1}function st(){Xt=0,Qt=0}function rt(){var e=!1;if(Xt){var t=Tt()-Xt;t<=n.fingerReleaseThreshold&&(e=!0)}return e}function at(){return!(zt.data(C+"_intouch")!==!0)}function lt(e){e===!0?(zt.bind(jt,$),zt.bind(Ft,E),At&&zt.bind(At,F)):(zt.unbind(jt,$,!1),zt.unbind(Ft,E,!1),At&&zt.unbind(At,F,!1)),zt.data(C+"_intouch",e===!0)}function ct(e,t){var n=void 0!==t.identifier?t.identifier:0;return Vt[e].identifier=n,Vt[e].start.x=Vt[e].end.x=t.pageX||t.clientX,Vt[e].start.y=Vt[e].end.y=t.pageY||t.clientY,Vt[e]}function ut(e){var t=void 0!==e.identifier?e.identifier:0,n=dt(t);return n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function dt(e){for(var t=0;t<Vt.length;t++)if(Vt[t].identifier==e)return Vt[t]}function pt(){for(var e=[],t=0;5>=t;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function ft(e,t){t=Math.max(t,ht(e)),Rt[e].distance=t}function ht(e){return Rt[e]?Rt[e].distance:void 0}function mt(){var e={};return e[i]=gt(i),e[o]=gt(o),e[s]=gt(s),e[r]=gt(r),e}function gt(e){return{direction:e,distance:0}}function vt(){return Yt-Ut}function bt(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function yt(e,t){var n=t/e*1;return n.toFixed(2)}function wt(){return 1>It?l:a}function xt(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function _t(e,t){var n=e.x-t.x,i=t.y-e.y,o=Math.atan2(i,n),s=Math.round(180*o/Math.PI);return 0>s&&(s=360-Math.abs(s)),s}function kt(e,t){var n=_t(e,t);return 45>=n&&n>=0?i:360>=n&&n>=315?i:n>=135&&225>=n?o:n>45&&135>n?r:s}function Tt(){var e=new Date;return e.getTime()}function Ct(t){t=e(t);var n=t.offset(),i={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return i}function St(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var $t=T||!n.fallbackToMouseEvents,Et=$t?"touchstart":"mousedown",jt=$t?"touchmove":"mousemove",Ft=$t?"touchend":"mouseup",At=$t?null:"mouseleave",Dt="touchcancel",qt=0,Nt=null,Lt=0,Ot=0,Mt=0,It=1,Pt=0,Bt=0,Rt=null,zt=e(t),Ht="start",Wt=0,Vt=null,Ut=0,Yt=0,Xt=0,Qt=0,Gt=0,Kt=null;try{zt.bind(Et,S),zt.bind(Dt,j)}catch(Jt){e.error("events not supported "+Et+","+Dt+" on jQuery.swipe")}this.enable=function(){return zt.bind(Et,S),zt.bind(Dt,j),zt},this.disable=function(){return A(),zt},this.destroy=function(){return A(),zt.data(C,null),zt},this.option=function(t,i){if(void 0!==n[t]){if(void 0===i)return n[t];n[t]=i}else e.error("Option "+t+" does not exist on jQuery.swipe.options");return null}}var i="left",o="right",s="up",r="down",a="in",l="out",c="none",u="auto",d="swipe",p="pinch",f="tap",h="doubletap",m="longtap",g="horizontal",v="vertical",b="all",y=10,w="start",x="move",_="end",k="cancel",T="ontouchstart"in window,C="TouchSwipe",S={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};e.fn.swipe=function(n){var i=e(this),o=i.data(C);if(o&&"string"==typeof n){if(o[n])return o[n].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(!(o||"object"!=typeof n&&n))return t.apply(this,arguments);return i},e.fn.swipe.defaults=S,e.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:x,PHASE_END:_,PHASE_CANCEL:k},e.fn.swipe.directions={LEFT:i,RIGHT:o,UP:s,DOWN:r,IN:a,OUT:l},e.fn.swipe.pageScroll={NONE:c,HORIZONTAL:g,VERTICAL:v,AUTO:u},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:b}});